const a=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const r of n.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerpolicy&&(n.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?n.credentials="include":i.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}};a();function l(e,t){return window.go.main.App.AddFolowItemHandler(e,t)}function d(){return window.go.main.App.GetItems()}function c(e){return window.go.main.App.SetApiKey(e)}function u(e){return window.go.main.App.UpdateItems(e)}function h(e,t,s){window.runtime.EventsOnMultiple(e,t,s)}function m(e,t){h(e,t,-1)}const f={data(){return{items:[],itemHashNames:{}}},async mounted(){m("onError",e=>{window.M.toast({html:e})}),m("onItemFolowRemove",e=>{const t=document.getElementById(e);t.innerText="\u0412\u0456\u0434\u0441\u043B\u0456\u0434\u043A\u043E\u0432\u0443\u0432\u0430\u0442\u0438",t.classList.remove("disabled")}),m("onItemFolowAdd",e=>{const t=document.getElementById(e);t.innerText="\u0412\u0456\u0434\u0456\u0441\u0456\u0434\u043A\u043E\u0432\u0443\u0454\u0442\u044C\u0441\u044F",t.classList.add("disabled")})},methods:{async folowItemPrice(e){const t=e.target.parentElement.getElementsByTagName("h5")[0];l(t.textContent,this.itemHashNames[t.textContent])},async updateItemList(){const e=document.getElementById("apikey");if(e.value){const t=await c(e.value);if(t)window.M.toast({html:t});else{this.items=await d(),this.getCountOfItem();const s=Math.ceil(this.items.length/5)+1,o=[];for(let i=0;i<this.items.length;i+=s){const n=this.items.slice(i,i+s);o.push(n)}this.items=o,u()}}else window.M.toast({html:"\u0410\u043F\u0456 \u043A\u043B\u044E\u0447 \u0432\u0456\u0434\u0441\u0443\u0442\u043D\u0456\u0439"})},getCountOfItem(){this.itemHashNames={},this.items.forEach(e=>{const t=e.market_hash_name;if(!this.itemHashNames[t])this.itemHashNames[t]=[{item_id:e.item_id,id:e.id}];else{const s=this.items.indexOf(e);s!==-1&&this.items.splice(s,1),this.itemHashNames[t].push({item_id:e.item_id,id:e.id}),console.log(this.itemHashNames)}})}}};Vue.createApp(f).mount("#app");
